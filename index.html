<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GAMES MEGAFOLDER</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');

    body {
      margin: 0;
      padding: 20px;
      min-height: 100vh;
      background: #0a0a0a;
      color: #fff;
      font-family: 'Orbitron', monospace;
      text-align: center;
      overflow-x: hidden;
      position: relative;
      transition: background 0.8s ease, filter 0.8s ease;
    }

    /* Background types */
    body.no-bg { background: #000000; }
    body.dots-bg { background: #0a0a0a; } /* particles in JS */
    body.normal-bg::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 20% 30%, rgba(0, 255, 255, 0.03) 0%, transparent 60%),
                  radial-gradient(circle at 80% 70%, rgba(255, 0, 255, 0.03) 0%, transparent 60%);
      z-index: -2;
      pointer-events: none;
    }
    body.meme-bg { 
      background: url('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7') center/cover fixed; /* fallback */
      background-image: url('https://i.imgur.com/nevergonna.gif'); /* real meme bg */
    }

    /* Color themes */
    body.theme-rgb { animation: rgbShift 12s linear infinite; }
    @keyframes rgbShift { 0% { filter: hue-rotate(0deg); } 100% { filter: hue-rotate(360deg); } }
    body.theme-neon { color: #00ffff; filter: brightness(1.2); }
    body.theme-mono { filter: grayscale(100%) brightness(1.2); }

    .topo-bg {
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events: none;
      overflow: hidden;
    }

    .contour {
      position: absolute;
      width: 200%;
      height: 200%;
      background: transparent;
      border: 1px solid rgba(0, 255, 255, 0.12);
      border-radius: 50%;
      animation: contourMove 80s linear infinite;
      box-shadow: 0 0 15px rgba(0, 255, 255, 0.08);
    }

    .contour:nth-child(odd) {
      border-color: rgba(255, 0, 255, 0.10);
      box-shadow: 0 0 20px rgba(255, 0, 255, 0.06);
      animation-duration: 120s;
      animation-direction: reverse;
    }

    @keyframes contourMove {
      0% { transform: translate(-50%, -50%) rotate(0deg) scale(0.8); opacity: 0.3; }
      50% { transform: translate(0%, 0%) rotate(180deg) scale(1.2); opacity: 0.6; }
      100% { transform: translate(50%, 50%) rotate(360deg) scale(0.8); opacity: 0.3; }
    }

    h1 {
      font-size: 3em;
      background: linear-gradient(45deg, #ff00ff, #00ffff, #ffff00);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 20px #00ffff;
      margin-bottom: 10px;
      animation: glow 2s ease-in-out infinite alternate;
      position: relative;
      z-index: 1;
    }

    @keyframes glow {
      from { filter: drop-shadow(0 0 10px #00ffff); }
      to { filter: drop-shadow(0 0 30px #ff00ff); }
    }

    p {
      font-size: 1.2em;
      color: #ccc;
      max-width: 600px;
      margin: 0 auto 40px;
    }

    .search-container {
      margin: 0 auto 30px;
      max-width: 600px;
      position: relative;
      z-index: 1;
    }

    #searchInput {
      width: 100%;
      padding: 15px 20px;
      font-size: 1.3em;
      background: rgba(255,255,255,0.05);
      border: 2px solid #00ffff;
      border-radius: 50px;
      color: #00ffff;
      font-family: 'Orbitron', monospace;
      box-shadow: 0 0 20px rgba(0,255,255,0.3);
      transition: all 0.3s;
    }

    #searchInput:focus {
      outline: none;
      border-color: #ff00ff;
      box-shadow: 0 0 30px rgba(255,0,255,0.5);
    }

    #searchInput::placeholder {
      color: #aaa;
    }

    .random-btn {
      display: inline-block;
      background: linear-gradient(45deg, #00ffff, #ffff00, #ff00ff);
      color: #000;
      font-weight: 900;
      padding: 18px 40px;
      border-radius: 50px;
      font-size: 1.4em;
      text-decoration: none;
      margin: 0 auto 40px;
      box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
      transition: all 0.3s;
      cursor: pointer;
      border: none;
    }

    .random-btn:hover {
      transform: scale(1.08) translateY(-4px);
      box-shadow: 0 0 50px rgba(255, 255, 0, 0.7);
      background: linear-gradient(45deg, #ffff00, #ff00ff, #00ffff);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      max-width: 1200px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }

    .game-card {
      background: rgba(255,255,255,0.05);
      backdrop-filter: blur(12px);
      border-radius: 15px;
      padding: 25px;
      transition: all 0.4s;
      border: 1px solid rgba(0, 255, 255, 0.15);
      box-shadow: 0 4px 30px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
      height: 260px;
      justify-content: space-between;
    }

    .game-card.hidden {
      display: none;
    }

    .game-card:hover {
      transform: scale(1.06) translateY(-5px);
      box-shadow: 0 0 40px rgba(0, 255, 255, 0.4);
      border-color: rgba(0, 255, 255, 0.5);
    }

    .game-card h3 {
      font-size: 1.5em;
      margin: 0 0 10px;
      color: #ffff00;
      text-shadow: 0 0 10px #ffff00aa;
    }

    .game-card p {
      font-size: 0.95em;
      color: #aaa;
      margin: 0;
      line-height: 1.5;
      word-break: break-word;
      hyphens: auto;
      text-align: center;
      flex-grow: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    a {
      display: block;
      background: linear-gradient(45deg, #ff4757, #ff6b7a);
      color: white;
      text-decoration: none;
      padding: 15px 30px;
      border-radius: 50px;
      font-weight: bold;
      font-size: 1.1em;
      transition: all 0.3s;
    }

    a:hover {
      background: linear-gradient(45deg, #ff6b7a, #ff4757);
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(255,71,87,0.4);
    }

    footer {
      margin-top: 50px;
      font-size: 0.8em;
      color: #888;
      position: relative;
      z-index: 1;
    }

    #noResults {
      font-size: 1.8em;
      color: #ff4444;
      margin: 40px 0;
      display: none;
    }

    /* Settings button */
    #settings-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(0,255,255,0.2);
      border: 2px solid #00ffff;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 1.8em;
      color: #00ffff;
      cursor: pointer;
      box-shadow: 0 0 20px rgba(0,255,255,0.4);
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s;
    }

    #settings-btn:hover {
      transform: rotate(90deg) scale(1.1);
      box-shadow: 0 0 40px rgba(0,255,255,0.7);
    }

    /* Modal styles */
    #settings-modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.85);
      z-index: 999;
      align-items: center;
      justify-content: center;
    }

    .modal-content {
      background: rgba(0,0,0,0.9);
      padding: 40px;
      border-radius: 20px;
      border: 3px solid #ff00ff;
      box-shadow: 0 0 50px rgba(255,0,255,0.5);
      max-width: 600px;
      width: 90%;
      color: #00ffff;
    }

    .close-btn {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 2em;
      cursor: pointer;
      color: #ff4444;
    }
  </style>
</head>
<body class="normal-bg">
  <div class="topo-bg" id="topo">
    <div class="contour" style="top:10%; left:20%; animation-delay:0s;"></div>
    <div class="contour" style="top:40%; left:60%; animation-delay:15s;"></div>
    <div class="contour" style="top:70%; left:30%; animation-delay:30s;"></div>
    <div class="contour" style="top:25%; left:80%; animation-delay:45s;"></div>
    <div class="contour" style="top:55%; left:10%; animation-delay:60s;"></div>
  </div>

  <!-- Settings button -->
  <div id="settings-btn">‚öôÔ∏è</div>

  <!-- Settings modal -->
  <div id="settings-modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeSettings()">√ó</span>
      <h1>Hub Settings</h1>

      <label>Background Type</label>
      <select id="bgType">
        <option value="normal">Normal Topo</option>
        <option value="no-bg">No Background (black)</option>
        <option value="solid">Solid Color</option>
        <option value="dots">Floating Dots</option>
        <option value="meme">Meme Background</option>
        <option value="custom">Custom Image URL</option>
      </select>

      <div id="solidColorGroup" style="display:none;">
        <label>Solid Color</label>
        <input type="color" id="solidColor" value="#0a0a0a">
      </div>

      <div id="customUrlGroup" style="display:none;">
        <label>Custom Background URL</label>
        <input type="text" id="customUrl" placeholder="https://example.com/bg.jpg">
      </div>

      <label>Color Theme</label>
      <select id="colorTheme">
        <option value="default">Default Neon</option>
        <option value="rgb">RGB Rainbow Shift</option>
        <option value="neon">Bright Neon</option>
        <option value="mono">Black & White</option>
      </select>

      <button onclick="saveSettings()">SAVE & APPLY</button>
    </div>
  </div>

  <h1>üöÄ MEGAFOLDER - GAMES</h1>
  <p>Click any game & have fun.</p>

  <div class="search-container">
    <input type="text" id="searchInput" placeholder="Search games...">
  </div>

  <button class="random-btn" onclick="launchRandom()">RANDOM GAME</button>

  <div id="noResults">No games match your search, fam üòî</div>

  <div class="grid">
    <!-- Your cards here, same as before -->
    <div class="game-card">
      <h3>üåÄ Backrooms</h3>
      <p>Endless yellow hell, liminal spaces, no escape, pure dread.</p>
      <a href="backrooms.html">LAUNCH</a>
    </div>
    <!-- ... all other cards ... -->
  </div>

  <footer>gaming</footer>

  <script>
    function launchRandom() {
      const links = [
        "backrooms.html", "baconmaydie.html", "balatro.html", "buckshot.html", "plinko.html",
        "flappy.html", "flying-gorilla.html", "gta-vice-city.html", "minecraft.html", "pvz.html",
        "sm64.html", "notmyneighbor.html", "ultrakill.html", "undertale.html", "worldshardest.html", "snake.html"
      ];
      const randomIndex = Math.floor(Math.random() * links.length);
      window.open(links[randomIndex], '_blank');
    }

    // Search logic (same as before)
    const searchInput = document.getElementById('searchInput');
    const cards = document.querySelectorAll('.game-card');
    const noResults = document.getElementById('noResults');

    searchInput.addEventListener('input', () => {
      const query = searchInput.value.toLowerCase().trim();
      let visible = 0;
      cards.forEach(card => {
        const title = card.querySelector('h3').textContent.toLowerCase();
        const desc = card.querySelector('p').textContent.toLowerCase();
        const match = title.includes(query) || desc.includes(query);
        card.classList.toggle('hidden', !match && query !== '');
        if (match || query === '') visible++;
      });
      noResults.style.display = (visible === 0 && query !== '') ? 'block' : 'none';
    });

    // Settings modal
    const settingsBtn = document.getElementById('settings-btn');
    const modal = document.getElementById('settings-modal');
    const bgType = document.getElementById('bgType');
    const solidColorGroup = document.getElementById('solidColorGroup');
    const customUrlGroup = document.getElementById('customUrlGroup');

    settingsBtn.onclick = () => modal.style.display = 'flex';
    modal.onclick = e => { if (e.target === modal) modal.style.display = 'none'; };

    bgType.onchange = () => {
      solidColorGroup.style.display = bgType.value === 'solid' ? 'block' : 'none';
      customUrlGroup.style.display = bgType.value === 'custom' ? 'block' : 'none';
    };

    function saveSettings() {
      const settings = {
        bgType: bgType.value,
        solidColor: document.getElementById('solidColor').value,
        customUrl: document.getElementById('customUrl').value,
        colorTheme: document.getElementById('colorTheme').value
      };
      localStorage.setItem('hubSettings', JSON.stringify(settings));
      applySettings(settings);
      modal.style.display = 'none';
    }

    function applySettings(saved) {
      document.body.className = saved.bgType + '-bg';
      if (saved.bgType === 'solid') document.body.style.background = saved.solidColor;
      if (saved.bgType === 'custom' && saved.customUrl) document.body.style.background = `url("${saved.customUrl}") center/cover fixed`;
      document.body.classList.remove('theme-rgb', 'theme-neon', 'theme-mono');
      if (saved.colorTheme && saved.colorTheme !== 'default') {
        document.body.classList.add('theme-' + saved.colorTheme);
      }
    }

    // Load saved settings on page load + listen for changes from other tabs
    let savedSettings = JSON.parse(localStorage.getItem('hubSettings'));
    if (savedSettings) applySettings(savedSettings);

    window.addEventListener('storage', e => {
      if (e.key === 'hubSettings') {
        savedSettings = JSON.parse(e.newValue);
        applySettings(savedSettings);
      }
    });

    // Floating dots bg (only if selected)
    if (savedSettings && savedSettings.bgType === 'dots') {
      const container = document.createElement('div');
      container.id = 'dots-container';
      container.style.cssText = 'position:fixed;inset:0;pointer-events:none;z-index:-1;overflow:hidden;';
      document.body.appendChild(container);

      for (let i = 0; i < 100; i++) {
        const dot = document.createElement('div');
        dot.style.cssText = `
          position:absolute;
          background:#ffffff;
          border-radius:50%;
          box-shadow:0 0 8px rgba(255,255,255,0.5);
          width:${Math.random()*3+1}px;
          height:${Math.random()*3+1}px;
          left:${Math.random()*100}vw;
          top:${Math.random()*100}vh;
          opacity:${Math.random()*0.4+0.1};
          animation:float ${Math.random()*80+80}s linear infinite;
          animation-delay:${Math.random()*20}s;
        `;
        container.appendChild(dot);
      }
    }
  </script>
</body>
</html>
