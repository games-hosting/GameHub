<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GAMES MEGAFOLDER</title>

<script>
/* ===== LOAD SETTINGS EARLY ===== */
const settings = {
  bgType: "normal",
  solidColor: "#0a0a0a",
  customUrl: "",
  colorTheme: "default",
  ...JSON.parse(localStorage.getItem("hubSettings") || "{}")
};

const cls = document.documentElement.classList;

// background classes
if (settings.bgType === "no-bg") cls.add("no-bg");
if (settings.bgType === "dots") cls.add("dots-bg");
if (settings.bgType === "meme") cls.add("meme-bg");
if (settings.bgType === "normal") cls.add("normal-bg");

// theme classes
if (settings.colorTheme && settings.colorTheme !== "default") {
  cls.add("theme-" + settings.colorTheme);
}
</script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');

body {
  margin: 0;
  padding: 20px;
  min-height: 100vh;
  background: #0a0a0a;
  color: #fff;
  font-family: 'Orbitron', monospace;
  text-align: center;
  overflow-x: hidden;
  position: relative;
  transition: background 0.8s ease, filter 0.8s ease;
}

/* Background types */
body.no-bg { background: #000; }

body.dots-bg {
  background:
    radial-gradient(circle,#00ffff22 1px,transparent 1px);
  background-size: 20px 20px;
}

body.meme-bg {
  background: url('https://i.imgur.com/nevergonna.gif') center/cover fixed;
}

body.normal-bg::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 20% 30%, rgba(0,255,255,.03) 0%, transparent 60%),
    radial-gradient(circle at 80% 70%, rgba(255,0,255,.03) 0%, transparent 60%);
  z-index: -2;
}

/* Color themes */
body.theme-rgb { animation: rgbShift 12s linear infinite; }
@keyframes rgbShift { from { filter: hue-rotate(0); } to { filter: hue-rotate(360deg); } }

body.theme-neon { color: #00ffff; }
body.theme-mono { filter: grayscale(1) brightness(1.2); }

/* Topo background */
.topo-bg {
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  display: none;
}
body.normal-bg .topo-bg { display: block; }

.contour {
  position: absolute;
  width: 200%;
  height: 200%;
  border: 1px solid rgba(0,255,255,.12);
  border-radius: 50%;
  animation: contourMove 80s linear infinite;
}
@keyframes contourMove {
  0% { transform: translate(-50%,-50%) rotate(0deg) scale(.8); }
  100% { transform: translate(50%,50%) rotate(360deg) scale(.8); }
}

/* UI */
h1 {
  font-size: 3em;
  background: linear-gradient(45deg,#ff00ff,#00ffff,#ffff00);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 20px #00ffff;
}

.random-btn {
  background: linear-gradient(45deg,#00ffff,#ffff00,#ff00ff);
  font-weight: 900;
  padding: 18px 40px;
  border-radius: 50px;
  border: none;
  cursor: pointer;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(300px,1fr));
  gap: 20px;
  max-width: 1200px;
  margin: 0 auto;
}

.game-card {
  background: rgba(255,255,255,.05);
  backdrop-filter: blur(12px);
  border-radius: 15px;
  padding: 20px;
  border: 1px solid rgba(0,255,255,.15);
}
</style>
</head>

<body>

<div class="topo-bg">
  <div class="contour" style="top:10%;left:20%"></div>
  <div class="contour" style="top:50%;left:70%"></div>
</div>

<h1>ðŸš€ MEGAFOLDER - GAMES</h1>
<p>Click any game & have fun.</p>

<button class="random-btn" onclick="launchRandom()">RANDOM GAME</button>

<div class="grid">
  <!-- your game cards stay unchanged -->
</div>

<footer>gaming</footer>

<script>
/* APPLY INLINE BACKGROUNDS */
if (settings.bgType === "solid") {
  document.body.style.background = settings.solidColor;
}
if (settings.bgType === "custom" && settings.customUrl) {
  document.body.style.background =
    `url('${settings.customUrl}') center/cover fixed`;
}

function launchRandom() {
  const links = [
    "backrooms.html","baconmaydie.html","balatro.html","buckshot.html",
    "plinko.html","flappy.html","flying-gorilla.html","gta-vice-city.html",
    "minecraft.html","pvz.html","sm64.html","notmyneighbor.html",
    "ultrakill.html","undertale.html","worldshardest.html","snake.html"
  ];
  window.open(links[Math.floor(Math.random()*links.length)], "_blank");
}
</script>

</body>
</html>
