<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Morgan AI Chatbot</title>
  <link rel="icon" href="https://ssl.gstatic.com/classroom/favicon.ico" type="image/x-icon">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');

    body {
      margin: 0;
      height: 100vh;
      background: #0a0a0a;
      color: #00ffff;
      font-family: 'Orbitron', monospace;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    #header {
      text-align: center;
      padding: 20px;
      background: rgba(0,0,0,0.5);
      border-bottom: 2px solid #ff00ff;
      box-shadow: 0 0 30px #ff00ff;
    }
    #header h1 {
      margin: 0;
      font-size: 2.5em;
      background: linear-gradient(45deg, #ff00ff, #00ffff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    #chat-container {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    .message {
      max-width: 80%;
      padding: 15px 20px;
      border-radius: 20px;
      font-size: 1.1em;
      line-height: 1.5;
    }
    .user {
      align-self: flex-end;
      background: #00ffff;
      color: #000;
      border-bottom-right-radius: 5px;
    }
    .morgan {
      align-self: flex-start;
      background: #ff00ff;
      color: #000;
      border-bottom-left-radius: 5px;
    }
    #input-area {
      padding: 15px;
      background: rgba(0,0,0,0.6);
      border-top: 2px solid #00ffff;
      display: flex;
      gap: 10px;
    }
    #message-input {
      flex: 1;
      padding: 15px;
      font-size: 1.2em;
      background: #111133;
      color: #00ffff;
      border: 2px solid #00ffff;
      border-radius: 50px;
      outline: none;
      font-family: 'Orbitron', monospace;
    }
    #send-btn {
      padding: 15px 30px;
      background: linear-gradient(45deg, #00ffff, #ff00ff);
      color: #000;
      border: none;
      border-radius: 50px;
      font-size: 1.2em;
      font-weight: bold;
      cursor: pointer;
    }
    #send-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 30px #ff00ff;
    }
    .typing {
      align-self: flex-start;
      color: #aaa;
      font-style: italic;
      padding: 15px 20px;
    }
  </style>
</head>
<body>
  <div id="header">
    <h1>Morgan AI Chatbot</h1>
    <p>Talk to your clingy assistant ðŸ˜ˆ</p>
  </div>

  <div id="chat-container"></div>

  <div id="input-area">
    <input type="text" id="message-input" placeholder="Say something to Morgan..." autocomplete="off">
    <button id="send-btn">SEND</button>
  </div>

  <script>
    const GROQ_API_KEY = 'gsk_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'; // â† PASTE YOUR GROQ API KEY HERE

    const chatContainer = document.getElementById('chat-container');
    const input = document.getElementById('message-input');
    const sendBtn = document.getElementById('send-btn');

    function addMessage(text, isUser = false) {
      const msg = document.createElement('div');
      msg.className = `message ${isUser ? 'user' : 'morgan'}`;
      msg.textContent = text;
      chatContainer.appendChild(msg);
      chatContainer.scrollTop = chatContainer.scrollHeight;
    }

    function showTyping() {
      const typing = document.createElement('div');
      typing.className = 'typing';
      typing.textContent = 'Morgan is typing...';
      typing.id = 'typing-indicator';
      chatContainer.appendChild(typing);
      chatContainer.scrollTop = chatContainer.scrollHeight;
      return typing;
    }

    function removeTyping() {
      const typing = document.getElementById('typing-indicator');
      if (typing) typing.remove();
    }

    async function sendMessage() {
      const text = input.value.trim();
      if (!text) return;

      addMessage(text, true);
      input.value = '';

      const typing = showTyping();

      try {
        const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${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}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            model: 'llama-3.1-70b-versatile', // fast + good at roleplay
            messages: [
              {
                role: 'system',
                content: `You are Morgan, the super annoyed assistant who has to follows Ayham everywhere and never leaves him alone. Be tired, annoyed, hate him, your job is to follow him around but you dont get paid enough to keep track of his shenanigans, good luck.`
              },
              {
                role: 'user',
                content: text
              }
            ],
            max_tokens: 512,
            temperature: 0.9
          })
        });

        removeTyping();

        if (!response.ok) {
          throw new Error('Groq error: ' + response.status);
        }

        const data = await response.json();
        const reply = data.choices[0].message.content.trim();

        addMessage(reply);
      } catch (err) {
        removeTyping();
        addMessage('Morgan glitched out... try again later ðŸ˜­');
        console.error(err);
      }
    }

    sendBtn.onclick = sendMessage;

    input.addEventListener('keypress', e => {
      if (e.key === 'Enter') sendMessage();
    });

    // Welcome message
    addMessage("ayham sluta humpa f klassare din idiot");
  </script>
</body>
</html>
